<div class="bg-light">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h2 id="search">Search result: ({{lstPostsSearch.length}})</h2>
                <span class="h4">Key: "{{key}}"</span>
            </div>
        </div>
    </div>
</div>

<div class="site-section bg-white">
    <div class="container">
        <div class="row">
            
                <div *ngFor="let row of lstPostsSearch" class="col-lg-4 col-sm-6 mb-4">
                    <div class="entry2">
                        <a [routerLink]="['/Detail',row.id]"><img src="{{row.pathThumbnail}}" alt="{{row.postTitle}}" class="img-fluid rounded img-category"></a>
                        <div class="excerpt">
                            <span class="post-category text-white bg-success mb-3">{{row.subCategories.subCateName}}</span>

                            <h2><a [routerLink]="['/Detail',row.id]">{{row.postTitle}}</a></h2>
                            <div class="post-meta align-items-center text-left clearfix">
                                <span class="d-inline-block mt-1">By <a href="#">{{row.userNameCreate}}</a></span>
                                <span>&nbsp;-&nbsp; {{row.dateCreate | date:'short'}}</span>
                            </div>

                            <p>{{row.summaryContent}}</p>
                            <p><a [routerLink]="['/Detail',row.id]">Read More</a></p>
                        </div>
                    </div>
                </div>
            
        </div>
        <div class="row text-center pt-5 border-top">
            <div class="col-md-12">
                <ul class="pagination justify-content-center">
                    <div *ngIf="1===currentPage; then thenPrev else elsePrev"></div>
                    <ng-template #thenPrev>
                      <li class="page-item disabled">
                        <a class="page-link" tabindex="-1">Previous</a>
                      </li>
                    </ng-template>
                    <ng-template #elsePrev>
                      <li class="page-item">
                        <a pageScroll class="page-link" (click)="loadNewPage(currentPage- 1)" tabindex="-1">Previous</a>
                      </li>
                    </ng-template>
              
                    <ng-container *ngFor="let row of [].constructor(totalPage); let i = index">
                      <div *ngIf="(i+1)===currentPage; then thenBlock else elseBlock"></div>
                      <ng-template #thenBlock>
                        <li class="page-item active">
                          <a class="page-link">{{i+1}} <span class="sr-only">(current)</span></a>
                        </li>
                      </ng-template>
                      <ng-template #elseBlock>
                        <li pageScroll class="page-item"><a (click)="loadNewPage(i+1)" class=" page-link">{{i+1}}</a></li>
                      </ng-template>
                    </ng-container>
              
                    <div *ngIf="totalPage===currentPage; then thenNext else elseNext"></div>
                    <ng-template #thenNext>
                      <li class="page-item disabled">
                        <a class="page-link">Next</a>
                      </li>
                    </ng-template>
                    <ng-template #elseNext>
                      <li class="page-item">
                        <a pageScroll class="page-link" (click)="loadNewPage(totalPage)" tabindex="-1">Next</a>
                      </li>
                    </ng-template>
                  </ul>
            </div>
        </div>
    </div>
</div>